<!-- <video class="d-block w-100" autoplay muted loop>
  <source src="assets/vidoes/video.mp4" type="video/mp4">
</video> -->


 
<div class="container mt-5">
  <h2 class="text-center mb-4">المزارع المتاحة</h2>

  <div class="container mt-5">
    <div class="row flex-nowrap overflow-auto py-3">
      <div class="col-auto" *ngFor="let place of bookService.places()">
        <div class="card h-100 shadow-lg rounded-3 border-0" style="width: 18rem;">
          <div class="card-img-container">
            <img [src]="place.imgUrl" class="card-img-top img-fluid" [alt]="place.Description">
          </div>
          <div class="card-body">
            <h5 class="card-title text-center text-primary">{{ place.Name }}</h5>
            <p class="card-text text-center text-muted">{{place.Description}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <form [formGroup]="bookingForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
    <div class="row g-3">
      <!-- Name -->
      <div class="col-md-6 text-center">
        <label for="name" class="form-label">الأسم</label>
        <input type="text" id="name" class="form-control" formControlName="name" placeholder="Enter your name" required />
      </div>

      <!-- Email -->
      <div class="col-md-6 text-center">
        <label for="email" class="form-label">الأيميل</label>
        <input type="email" id="email" class="form-control" formControlName="email" placeholder="Enter your email" required />
      </div>

      <!-- Phone Number -->
      <!-- <div class="col-md-6">
        <label for="phone" class="form-label">رقم الهاتف</label>
        <input type="tel" id="phone" class="form-control" formControlName="phone" placeholder="Enter your phone number" required />
      </div> -->
      <div class="col-md-6 text-center">
        <label for="phone" class="form-label">رقم الهاتف</label>
        <input 
          type="tel" 
          id="phone" 
          class="form-control" 
          formControlName="phone" 
          placeholder="Enter your phone number" 
          required 
        />
      </div>

      <!-- Picture Upload -->
      <div class="col-md-6 text-center">
        <label for="picture" class="form-label">صورة الهوية</label>
        <input type="file" id="picture" class="form-control" (change)="onFileChange($event)" required />
      </div>

      <!-- Dropdown -->
      <div class="col-md-6 text-center">
        <label for="dropdown" class="form-label">اختر المكان</label>
        <select
          id="dropdown"
          class="form-select"
          formControlName="dropdown"
          required
          (change)="onPlaceSelected()"
        >
          <option *ngFor="let place of bookService.places()" [value]="place.Id">{{ place.Name }}</option>
        </select>
      </div>

    
      <!-- <div class="col-md-6">
        <label for="startDate" class="form-label">تاريخ البداية</label>
        <input 
          type="date" 
          id="startDate" 
          class="form-control" 
          formControlName="startDate" 
          (change)="onDateChange($event)" 
          required 
        />
      </div> -->
      <!-- <div class="col-md-6 text-center=">
        <label for="startDate" class="form-label">تاريخ البداية</label>
        <mat-form-field class="example-full-width">
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="startDate"
            [matDatepickerFilter]="dateFilter"
            placeholder="Select a date"
            required
          />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div> -->
      <!-- <div class="col-md-6 text-center">
        <label for="startDate" class="form-label d-block mb-2">تاريخ البداية</label>
        <mat-form-field appearance="outline" class="w-100 shadow-sm">
          <mat-label>تاريخ البداية</mat-label>
          <input
            id="FirstDate"
            matInput
            [matDatepicker]="picker"
            formControlName="startDate"
            placeholder="Select a date"
            [matDatepickerFilter]="dateFilter"
            required
          />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>

      <div class="col-md-6 text-center">
        <label for="endDate" class="form-label d-block mb-2">تاريخ النهاية</label>
        <mat-form-field appearance="outline" class="w-100 shadow-sm">
          <mat-label>تاريخ البداية</mat-label>
          <input
          id="SecondDate"
            matInput
            [matDatepicker]="picker2"
            formControlName="endDate"
            placeholder="Select a date"
            [matDatepickerFilter]="dateFilter"
            required
          />
          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
      </div> -->
      <!-- <div class="col-md-6 text-center">
        <label for="endDate" class="form-label">تاريخ النهاية</label>
        <input type="date" id="endDate" class="form-control" formControlName="endDate" required />
      </div> -->

      <div class="col-md-12 text-center">
  <label for="datePicker" class="form-label d-block mb-2">تاريخ الفترة</label>
  <mat-form-field appearance="outline" class="w-100 shadow-sm">
    <mat-label>اختر الفترة</mat-label>
    <mat-date-range-input [rangePicker]="rangePicker" formGroupName="dateRange">
      <input
        matStartDate
        placeholder="تاريخ البداية"
        formControlName="start"
      />
      <input
        matEndDate
        placeholder="تاريخ النهاية"
        formControlName="end"
      />
    </mat-date-range-input>
    <mat-datepicker-toggle matSuffix [for]="rangePicker"></mat-datepicker-toggle>
    <mat-date-range-picker #rangePicker></mat-date-range-picker>
  </mat-form-field>
</div>


      <!-- Submit Button -->
      <div class="col-12 text-center">
        <button type="submit" class="btn btn-primary mt-3 w-50">أحجز الأن</button>
      </div>
    </div>
  </form>
</div>
